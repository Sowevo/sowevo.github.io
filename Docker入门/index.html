<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 7.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"sowevo.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":true,"pangu":true,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="Dockeræ¦‚è¿°Dockerä¸ºä»€ä¹ˆä¼šå‡ºç°?ç¯å¢ƒé…ç½®çš„éš¾é¢˜:å¼€å‘ç¯å¢ƒ,æµ‹è¯•ç¯å¢ƒ,æ¨¡æ‹Ÿç¯å¢ƒ å¼€å‘è€…å¸¸å¸¸ä¼šè¯´:å®ƒåœ¨æˆ‘çš„æœºå™¨å¯ä»¥è·‘äº†(It works on my machine),è¨€ä¸‹ä¹‹æ„å°±æ˜¯,å…¶ä»–æœºå™¨å¾ˆå¯èƒ½è·‘ä¸äº†. å®‰è£…çš„æ—¶å€™,å¯ä¸å¯ä»¥æŠŠåŸå§‹ç¯å¢ƒä¸€æ¨¡ä¸€æ ·åœ°å¤åˆ¶è¿‡æ¥. Dockeré’ˆå¯¹ä¸Šé¢çš„é—®é¢˜,æå‡ºäº†è§£å†³æ–¹æ¡ˆ">
<meta property="og:type" content="article">
<meta property="og:title" content="Dockerå…¥é—¨">
<meta property="og:url" content="https://sowevo.com/Docker%E5%85%A5%E9%97%A8/index.html">
<meta property="og:site_name" content="Sowevoçš„åšå®¢">
<meta property="og:description" content="Dockeræ¦‚è¿°Dockerä¸ºä»€ä¹ˆä¼šå‡ºç°?ç¯å¢ƒé…ç½®çš„éš¾é¢˜:å¼€å‘ç¯å¢ƒ,æµ‹è¯•ç¯å¢ƒ,æ¨¡æ‹Ÿç¯å¢ƒ å¼€å‘è€…å¸¸å¸¸ä¼šè¯´:å®ƒåœ¨æˆ‘çš„æœºå™¨å¯ä»¥è·‘äº†(It works on my machine),è¨€ä¸‹ä¹‹æ„å°±æ˜¯,å…¶ä»–æœºå™¨å¾ˆå¯èƒ½è·‘ä¸äº†. å®‰è£…çš„æ—¶å€™,å¯ä¸å¯ä»¥æŠŠåŸå§‹ç¯å¢ƒä¸€æ¨¡ä¸€æ ·åœ°å¤åˆ¶è¿‡æ¥. Dockeré’ˆå¯¹ä¸Šé¢çš„é—®é¢˜,æå‡ºäº†è§£å†³æ–¹æ¡ˆ">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://up.sowevo.com/img/20201224162029.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201224173423.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201224175422.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201224180153.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201224175629.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201224201858">
<meta property="og:image" content="https://up.sowevo.com/img/20201224202439.jpg">
<meta property="og:image" content="https://up.sowevo.com/img/20201224224200.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225105806.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225111718.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225112011.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225140303.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225151338.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225165612.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225170255.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225173454.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225181651.png">
<meta property="og:image" content="https://up.sowevo.com/img/20201225204150.png">
<meta property="article:published_time" content="2021-02-05T09:04:41.000Z">
<meta property="article:modified_time" content="2021-02-05T09:04:41.000Z">
<meta property="article:author" content="Sowevo">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Docker">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://up.sowevo.com/img/20201224162029.png">

<link rel="canonical" href="https://sowevo.com/Docker%E5%85%A5%E9%97%A8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Dockerå…¥é—¨ | Sowevoçš„åšå®¢</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Sowevoçš„åšå®¢" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Sowevoçš„åšå®¢</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://sowevo.com/Docker%E5%85%A5%E9%97%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://up.sowevo.com/avatar.jpeg">
      <meta itemprop="name" content="Sowevo">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Sowevoçš„åšå®¢">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Dockerå…¥é—¨<a href="https://github.com/Sowevo/sowevo.github.io/tree/hexo/source/_posts/Docker%E5%85%A5%E9%97%A8.md" class="post-edit-link" title="ç¼–è¾‘" rel="noopener" target="_blank"><i class="fa fa-pencil-alt"></i></a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2021-02-05 17:04:41" itemprop="dateCreated datePublished" datetime="2021-02-05T17:04:41+08:00">2021-02-05</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p><img data-src="https://up.sowevo.com/img/20201224162029.png" alt="img"></p>
<h1 id="Dockeræ¦‚è¿°"><a href="#Dockeræ¦‚è¿°" class="headerlink" title="Dockeræ¦‚è¿°"></a>Dockeræ¦‚è¿°</h1><h2 id="Dockerä¸ºä»€ä¹ˆä¼šå‡ºç°"><a href="#Dockerä¸ºä»€ä¹ˆä¼šå‡ºç°" class="headerlink" title="Dockerä¸ºä»€ä¹ˆä¼šå‡ºç°?"></a>Dockerä¸ºä»€ä¹ˆä¼šå‡ºç°?</h2><p>ç¯å¢ƒé…ç½®çš„éš¾é¢˜:å¼€å‘ç¯å¢ƒ,æµ‹è¯•ç¯å¢ƒ,æ¨¡æ‹Ÿç¯å¢ƒ</p>
<p>å¼€å‘è€…å¸¸å¸¸ä¼šè¯´:å®ƒåœ¨æˆ‘çš„æœºå™¨å¯ä»¥è·‘äº†(It works on my machine),è¨€ä¸‹ä¹‹æ„å°±æ˜¯,å…¶ä»–æœºå™¨å¾ˆå¯èƒ½è·‘ä¸äº†.</p>
<p>å®‰è£…çš„æ—¶å€™,å¯ä¸å¯ä»¥æŠŠåŸå§‹ç¯å¢ƒä¸€æ¨¡ä¸€æ ·åœ°å¤åˆ¶è¿‡æ¥.</p>
<p><strong>Docker</strong>é’ˆå¯¹ä¸Šé¢çš„é—®é¢˜,æå‡ºäº†è§£å†³æ–¹æ¡ˆ</p>
<span id="more"></span>

<p>é€šè¿‡éš”ç¦»æœºåˆ¶å°†æœåŠ¡å™¨å‹æ¦¨åˆ°æè‡´</p>
<h2 id="Dockerçš„å†å²"><a href="#Dockerçš„å†å²" class="headerlink" title="Dockerçš„å†å²"></a>Dockerçš„å†å²</h2><p>2010å¹´,å‡ ä¸ªå¹´è½»äººå¼€äº†å®¶å…¬å¸<code>dotCloud</code></p>
<p>åšä¸€äº›passçš„äº‘è®¡ç®—æŠ€æœ¯,å®¹å™¨çš„æŠ€æœ¯</p>
<p>ä»–ä»¬çš„æŠ€æœ¯å‘½åä¸ºDocker</p>
<p>åæ¥å¹²ä¸ä¸‹å»äº†â€¦è¦å€’é—­</p>
<p>2013å¹´Dockerå°±å¼€æºäº†,å°±ç«äº†</p>
<p>2014å¹´4æœˆ9æ—¥Docker1.0å‘å¸ƒäº†</p>
<p>ä¸ºä»€ä¹ˆè¿™ä¹ˆç«ğŸ”¥?ååˆ†çš„è½»å·§!</p>
<p>å®¹å™¨æŠ€æœ¯ä¹‹å‰,éƒ½æ˜¯ç”¨çš„VMwareè™šæ‹Ÿæœº,ååˆ†ç¬¨é‡</p>
<p>Dockerå®¹å™¨,ä¹Ÿæ˜¯ä¸€ç§è™šæ‹Ÿæœº</p>
<blockquote>
<p>Dockeræ˜¯åŸºäºGoè¯­è¨€å¼€å‘çš„</p>
</blockquote>
<p>å®˜ç½‘<a href="https://www.docker.com/">https://www.docker.com/</a></p>
<p>æ–‡æ¡£<a href="https://docs.docker.com/">https://docs.docker.com/</a></p>
<p>ä»“åº“<a href="https://hub.docker.com/">https://hub.docker.com/</a></p>
<h2 id="Dockerèƒ½å¹²å•¥"><a href="#Dockerèƒ½å¹²å•¥" class="headerlink" title="Dockerèƒ½å¹²å•¥!"></a>Dockerèƒ½å¹²å•¥!</h2><ul>
<li><p>è™šæ‹ŸæœºæŠ€æœ¯ç¼ºç‚¹:</p>
<ol>
<li>èµ„æºå ç”¨å¤š</li>
<li>å†—ä½™æ­¥éª¤å¤š</li>
<li>å¯åŠ¨æ…¢</li>
</ol>
</li>
<li><p>å®¹å™¨æŠ€æœ¯</p>
<ul>
<li>å®¹å™¨åŒ–æŠ€æœ¯æ¨¡æ‹Ÿçš„ä¸æ˜¯ä¸€å°å®Œæ•´çš„ç”µè„‘</li>
</ul>
</li>
<li><p>Dockeä¸è™šæ‹ŸæœºæŠ€æœ¯çš„ä¸åŒ</p>
<ul>
<li>ä¼ ç»Ÿè™šæ‹Ÿæœº:è™šæ‹Ÿä¸€å †ç¡¬ä»¶,è¿è¡Œä¸€ä¸ªå®Œæ•´çš„ç³»ç»Ÿ,ç„¶åå†è¿™ä¸ªç³»ç»Ÿä¸Šå®‰è£…å’Œè¿è¡Œè½¯ä»¶</li>
<li>Dockerå®¹å™¨:ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºçš„å†…æ ¸,å®¹å™¨æ²¡æœ‰è‡ªå·±çš„å†…æ ¸</li>
<li>æ¯ä¸ªå®¹å™¨é—´æ˜¯ç›¸äº’éš”ç¦»çš„,æ²¡ä¸ªå®¹å™¨éƒ½éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„æ–‡ä»¶ç³»ç»Ÿ</li>
</ul>
</li>
</ul>
<blockquote>
<p>DevOps(å¼€å‘,è¿ç»´)</p>
</blockquote>
<p><strong>åº”ç”¨æ›´å¿«çš„äº¤ä»˜å’Œéƒ¨ç½²</strong></p>
<p>ä¼ ç»Ÿ:ä¸€å †å¸®åŠ©æ–‡æ¡£,å®‰è£…ç¨‹åº</p>
<p>Docker:æ‰“åŒ…é•œåƒ,å‘å¸ƒæµ‹è¯•,ä¸€é”®è¿è¡Œ</p>
<p><strong>æ›´ä¾¿æ·çš„å‡çº§å’Œæ‰©ç¼©å®¹</strong></p>
<p>ä½¿ç”¨äº†Dockerå,é¡¹ç›®éƒ¨ç½²å°±åƒæ­ç§¯æœ¨</p>
<p>é¡¹ç›®æ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒ,ç›´æ¥åœ¨æœåŠ¡å™¨A,æœåŠ¡å™¨Bä¸Šéƒ¨ç½²</p>
<p><strong>æ›´ç®€å•çš„ç³»ç»Ÿè¿ç»´</strong></p>
<p>å®¹å™¨åŒ–ä¹‹å,å¼€å‘,æµ‹è¯•,ç¯å¢ƒé«˜åº¦ä¸€è‡´</p>
<p><strong>æ›´é«˜æ•ˆçš„è®¡ç®—èµ„æºåˆ©ç”¨</strong></p>
<p>Dockeræ˜¯å†…æ ¸çº§çš„è™šæ‹ŸåŒ–,å¯ä»¥åœ¨ä¸€ä¸ªç‰©ç†æœºä¸Šè¿è¡Œå¾ˆå¤šå®ä¾‹!æœåŠ¡å™¨çš„æ€§èƒ½è¢«å‹æ¦¨åˆ°æè‡´!</p>
<h1 id="Docker-çš„å®‰è£…"><a href="#Docker-çš„å®‰è£…" class="headerlink" title="Docker çš„å®‰è£…"></a>Docker çš„å®‰è£…</h1><h2 id="Dockerçš„åŸºæœ¬ç»„æˆ"><a href="#Dockerçš„åŸºæœ¬ç»„æˆ" class="headerlink" title="Dockerçš„åŸºæœ¬ç»„æˆ"></a>Dockerçš„åŸºæœ¬ç»„æˆ</h2><p><img data-src="https://up.sowevo.com/img/20201224173423.png" alt="img"></p>
<ul>
<li>é•œåƒ(Image):<ul>
<li>Dockeré•œåƒç›¸å½“äºä¸€ä¸ªæ¨¡æ¿,å¯ä»¥é€šè¿‡è¿™ä¸ªæ¨¡æ¿æ¥åˆ›å»ºå®¹å™¨,é•œåƒ&#x3D;&#x3D;&gt;run&#x3D;&#x3D;&gt;å®¹å™¨,é€šè¿‡ä¸€ä¸ªé•œåƒå¯ä»¥å¸¸è§å¤šä¸ªå®¹å™¨</li>
</ul>
</li>
<li>å®¹å™¨(container)<ul>
<li>Dockeråˆ©ç”¨å®¹å™¨æŠ€æœ¯,ç‹¬ç«‹è¿è¡Œä¸€ä¸ªæˆ–è€…ä¸€ç»„åº”ç”¨,é€šè¿‡é•œåƒæ¥åˆ›å»ºçš„</li>
<li>å¯åŠ¨,åœæ­¢,åˆ é™¤ç­‰å‘½ä»¤</li>
<li>å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªå»ºè®®çš„linuxç³»ç»Ÿ</li>
</ul>
</li>
<li>ä»“åº“(repository)<ul>
<li>ä»“åº“å°±æ˜¯å­˜æ”¾é•œåƒçš„åœ°æ–¹</li>
<li>ä»“åº“åˆ†ä¸ºå…¬æœ‰ä»“åº“å’Œç§æœ‰ä»“åº“</li>
<li>é»˜è®¤æ˜¯å›½å¤–çš„ä»“åº“,å¯ä»¥é…ç½®ä¸ºå›½å†…çš„é•œåƒ</li>
</ul>
</li>
</ul>
<h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><ul>
<li><p>å®‰è£…</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun</span><br></pre></td></tr></table></figure>

<p>å®‰è£…å®Œæˆåï¼ŒDocker æœåŠ¡å°†ä¼šè‡ªåŠ¨å¯åŠ¨ã€‚è¾“å…¥ä¸‹é¢çš„å‘½ä»¤æ¥éªŒè¯ï¼š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">systemctl status docker</span></span><br></pre></td></tr></table></figure>

<p>æŸ¥çœ‹å®‰è£…çš„Dockerçš„ç‰ˆæœ¬</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker version</span>  </span><br></pre></td></tr></table></figure>

<p><img data-src="https://up.sowevo.com/img/20201224175422.png" alt="image-20201224175422903"></p>
</li>
<li><p>Zshæ’ä»¶çš„ä½¿ç”¨</p>
<ol>
<li><p>ç¡®è®¤å®‰è£…äº†Zsh</p>
</li>
<li><p>ä¿®æ”¹<code>~/.zshrc</code>æ–‡ä»¶</p>
</li>
<li><p>æ‰¾åˆ°æ’ä»¶é…ç½®é¡¹<code>plugins=()</code>ï¼Œå¢åŠ <code>docker docker-compose</code>ä¸¤ä¸ªæ’ä»¶</p>
<p><img data-src="https://up.sowevo.com/img/20201224180153.png" alt="image-20201224180153473"></p>
</li>
<li><p><code>source ~/.zshrc</code></p>
</li>
</ol>
</li>
<li><p>ä½¿ç”¨</p>
<ul>
<li><p>è¿è¡Œhello-world</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run hello-world</span></span><br></pre></td></tr></table></figure>

<p><img data-src="https://up.sowevo.com/img/20201224175629.png" alt="image-20201224175629771"></p>
</li>
<li><p>æŸ¥çœ‹å®‰è£…çš„é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker images</span></span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">hello-world   latest    bf756fb1ae65   11 months ago   13.3kB</span><br></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h2 id="å®¹å™¨åŠ é€Ÿé•œåƒ"><a href="#å®¹å™¨åŠ é€Ÿé•œåƒ" class="headerlink" title="å®¹å™¨åŠ é€Ÿé•œåƒ"></a>å®¹å™¨åŠ é€Ÿé•œåƒ</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">mkdir</span> -p /etc/docker</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">cat</span> &gt; /etc/docker/daemon.json &lt;&lt;<span class="string">EOF</span></span></span><br><span class="line">&#123;</span><br><span class="line">  &quot;registry-mirrors&quot;: [</span><br><span class="line">   &quot;https://ro9g7idi.mirror.aliyuncs.com&quot;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="string">systemctl daemon-reload</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="string">systemctl restart docker</span></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"><span class="string">è…¾è®¯äº‘å¯ä»¥ç”¨è¿™ä¸ª   https://mirror.ccs.tencentyun.com åœ°å€</span></span></span><br></pre></td></tr></table></figure>

<h2 id="åº•å±‚åŸç†"><a href="#åº•å±‚åŸç†" class="headerlink" title="åº•å±‚åŸç†"></a>åº•å±‚åŸç†</h2><h3 id="Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„"><a href="#Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„" class="headerlink" title="Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„"></a>Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„</h3><p>Dockeræ˜¯ä¸€ä¸ªClient-Server(C&#x2F;S)ç»“æ„çš„ç³»ç»Ÿ,Dockerçš„å®ˆæŠ¤è¿›ç¨‹è¿è¡Œåœ¨ä¸»æœºä¸Š,é€šè¿‡Socketç­‰æ–¹å¼ä»å®¢æˆ·ç«¯è®¿é—®</p>
<p><img data-src="https://up.sowevo.com/img/20201224201858" alt="img"></p>
<p>Serveræ”¶åˆ°Clientçš„å‘½ä»¤,å°±ä¼šæ‰§è¡Œè¿™ä¸ªå‘½ä»¤</p>
<p>é»˜è®¤æˆ‘ä»¬å®‰è£…çš„DockeråŒ…å«äº†æœåŠ¡ç«¯ä¸å®¢æˆ·ç«¯,æ‰€ä»¥æˆ‘ä»¬åœ¨åŒä¸€å°æœåŠ¡å•†çš„æ“ä½œä¹Ÿæ˜¯ç»è¿‡å®¢æˆ·ç«¯&#x3D;&#x3D;&gt;æœåŠ¡ç«¯è¿™ä¸ªè¿‡ç¨‹çš„</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æœ¬æœºå®‰è£…ä¸€ä¸ªå®¢æˆ·ç«¯&#x3D;&#x3D;&gt;è¿œç¨‹è¿æ¥è¿œç¨‹æœåŠ¡å™¨ä¸Šçš„dockeræœåŠ¡ç«¯</p>
<h3 id="Dockerä¸ºä»€ä¹ˆæ¯”VMå—"><a href="#Dockerä¸ºä»€ä¹ˆæ¯”VMå—" class="headerlink" title="Dockerä¸ºä»€ä¹ˆæ¯”VMå—?"></a>Dockerä¸ºä»€ä¹ˆæ¯”VMå—?</h3><ol>
<li><p>Dockeræ¯”è™šæ‹Ÿæœºæœ‰ç€æ›´å°‘çš„æŠ½è±¡å±‚</p>
</li>
<li><p>Dockeråˆ©ç”¨çš„æ˜¯å®¿ä¸»æœºçš„å†…æ ¸,VMæ˜¯éœ€è¦Guest OS</p>
<p><img data-src="https://up.sowevo.com/img/20201224202439.jpg" alt="img"></p>
</li>
</ol>
<p>â€‹    æ–°å»ºä¸€ä¸ªå®¹å™¨çš„æ—¶å€™,Dockerä¸éœ€è¦åƒVMä¸€æ ·é‡æ–°åŠ è½½ä¸€ä¸ªæ“ä½œç³»ç»Ÿå†…æ ¸,é¿å…å¼•å¯¼</p>
<h1 id="Dockerçš„å¸¸ç”¨å‘½ä»¤"><a href="#Dockerçš„å¸¸ç”¨å‘½ä»¤" class="headerlink" title="Dockerçš„å¸¸ç”¨å‘½ä»¤"></a>Dockerçš„å¸¸ç”¨å‘½ä»¤</h1><h2 id="å¸®åŠ©å‘½ä»¤"><a href="#å¸®åŠ©å‘½ä»¤" class="headerlink" title="å¸®åŠ©å‘½ä»¤"></a>å¸®åŠ©å‘½ä»¤</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker version  <span class="comment"># æ˜¾ç¤ºdockerçš„ç‰ˆæœ¬</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker info     <span class="comment"># æ˜¾ç¤ºdockerçš„ç³»ç»Ÿä¿¡æ¯</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">help</span>     <span class="comment"># å¸®åŠ©å‘½ä»¤</span></span></span><br></pre></td></tr></table></figure>

<h2 id="é•œåƒå‘½ä»¤"><a href="#é•œåƒå‘½ä»¤" class="headerlink" title="é•œåƒå‘½ä»¤"></a>é•œåƒå‘½ä»¤</h2><ul>
<li><strong>dokcer images</strong>: æŸ¥çœ‹æœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">dokcer images   <span class="comment"># æŸ¥çœ‹æœ¬åœ°ä¸»æœºä¸Šçš„é•œåƒ</span></span></span><br><span class="line">REPOSITORY    TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">hello-world   latest    bf756fb1ae65   11 months ago   13.3kB</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€‰é¡¹:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> -a, --all             æ˜¾ç¤ºæ‰€æœ‰é•œåƒ,ï¼ˆé»˜è®¤éšè—ä¸­é—´é•œåƒï¼‰</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> -f, --filter filter   æ ¹æ®æä¾›çš„æ¡ä»¶è¿‡æ»¤è¾“å‡º</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> -q, --quiet           ä»…æ˜¾ç¤ºID</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>docker search</strong>:æœç´¢é•œåƒ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker search nginx</span></span><br><span class="line">NAME                               DESCRIPTION                                    STARS     OFFICIAL   AUTOMATED</span><br><span class="line">nginx                              Official build of Nginx.                       14198     [OK]       </span><br><span class="line">jwilder/nginx-proxy                Automated Nginx reverse proxy for docker conâ€¦  1932                 [OK]              </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€‰é¡¹:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> -f, --filter filter   æ ¹æ®è¿‡æ»¤æ¡ä»¶è¿›è¡Œè¿‡æ»¤</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">     --<span class="built_in">limit</span> int       ä¸€é¡µæ˜¾ç¤ºå¤šå°‘æ¡</span></span><br></pre></td></tr></table></figure>

<ul>
<li><strong>docker pull</strong>:ä¸‹è½½é•œåƒ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯ä»¥æŒ‡å®šdocker é•œåƒçš„ç‰ˆæœ¬</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker pull mysql:5.7.9</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœä¸å†™tag,é»˜è®¤å°±æ˜¯latest</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker pull mysql</span></span><br><span class="line">Using default tag: latest</span><br><span class="line">latest: Pulling from library/mysql</span><br><span class="line">6ec7b7d162b2: Pull complete </span><br><span class="line">fedd960d3481: Pull complete </span><br><span class="line">7ab947313861: Pull complete </span><br><span class="line">64f92f19e638: Pull complete </span><br><span class="line">3e80b17bff96: Pull complete </span><br><span class="line">014e976799f9: Pull complete </span><br><span class="line">59ae84fee1b3: Pull complete </span><br><span class="line">ffe10de703ea: Pull complete </span><br><span class="line">657af6d90c83: Pull complete </span><br><span class="line">98bfb480322c: Pull complete </span><br><span class="line">6aa3859c4789: Pull complete </span><br><span class="line">1ed875d851ef: Pull complete </span><br><span class="line">Digest: sha256:78800e6d3f1b230e35275145e657b82c3fb02a27b2d8e76aac2f5e90c1c30873</span><br><span class="line">Status: Downloaded newer image for mysql:latest</span><br><span class="line">docker.io/library/mysql:latest</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>docker rmi</strong>:åˆ é™¤é•œåƒ</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸¤ç§å½¢å¼</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker rmi é•œåƒ<span class="built_in">id</span></span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker rmi é•œåƒå:ç‰ˆæœ¬å·</span> </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker rmi a347a5928046</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker rmi hello-world:latest</span> </span><br></pre></td></tr></table></figure>

<h2 id="å®¹å™¨å‘½ä»¤"><a href="#å®¹å™¨å‘½ä»¤" class="headerlink" title="å®¹å™¨å‘½ä»¤"></a>å®¹å™¨å‘½ä»¤</h2><ul>
<li><p><strong>docker run</strong>:æ–°å»ºå®¹å™¨å¹¶å¯åŠ¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run [å¯é€‰å‚æ•°] images</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‚æ•°è¯´æ˜</span></span><br><span class="line">--name=&quot;name&quot;   å®¹å™¨åç§°   tomcat01,mysql3306,ç”¨æ¥åŒºåˆ†å®¹å™¨</span><br><span class="line">-d							åå°æ–¹å¼è¿è¡Œ</span><br><span class="line">-p							æŒ‡å®šå®¹å™¨çš„ç«¯å£</span><br><span class="line">      -p ip:ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£</span><br><span class="line">			-p ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£(å¸¸ç”¨çš„)</span><br><span class="line">			-p å®¹å™¨ç«¯å£</span><br><span class="line">-p             æŒ‡å®šéšæœºç«¯å£			</span><br><span class="line">-i             ä»¥äº¤äº’æ¨¡å¼è¿è¡Œå®¹å™¨,é€šå¸¸ä¸ -t åŒæ—¶ä½¿ç”¨</span><br><span class="line">-t             ä¸ºå®¹å™¨é‡æ–°åˆ†é…ä¸€ä¸ªä¼ªè¾“å…¥ç»ˆç«¯,é€šå¸¸ä¸ -i åŒæ—¶ä½¿ç”¨</span><br><span class="line">--rm           ç”¨å®Œå°±åˆ é™¤,ä¸€èˆ¬ç”¨æ¥æµ‹è¯•</span><br></pre></td></tr></table></figure>

<p>æµ‹è¯•å¯åŠ¨å®¹å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨centoså®¹å™¨,åŸºç¡€ç‰ˆæœ¬,å¾ˆå¤šå‘½ä»¤éƒ½æ˜¯ä¸å®Œå–„çš„</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -it  centos /bin/bash</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker ps</strong>åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker ps</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‚æ•°è¯´æ˜</span></span><br><span class="line">-a          æ˜¾ç¤ºæ‰€æœ‰å®¹å™¨,åŒ…æ‹¬æ²¡æœ‰åœ¨è¿è¡Œçš„å®¹å™¨</span><br><span class="line">-n=2        æ˜¾ç¤ºè¿”å›æ¡æ•°</span><br><span class="line">-q          åªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å·</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker  rm</strong>åˆ é™¤å®¹å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">rm</span> å®¹å™¨<span class="built_in">id</span>    <span class="comment"># åˆ é™¤æŒ‡å®šçš„å®¹å™¨</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‚æ•°è¯´æ˜</span></span><br><span class="line">-f     å¼ºåˆ¶åˆ é™¤</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¯åŠ¨å’Œåœæ­¢å®¹å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker start   å®¹å™¨<span class="built_in">id</span>   <span class="comment"># å¯åŠ¨å®¹å™¨</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker stop    å®¹å™¨<span class="built_in">id</span>    <span class="comment"># åœæ­¢å®¹å™¨</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker restart å®¹å™¨<span class="built_in">id</span> <span class="comment"># é‡å¯å®¹å™¨</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">kill</span>    å®¹å™¨<span class="built_in">id</span>    <span class="comment"># å¼ºåˆ¶åœæ­¢å®¹å™¨</span></span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ç»„åˆå‘½ä»¤-åˆ åº“è·‘è·¯"><a href="#ç»„åˆå‘½ä»¤-åˆ åº“è·‘è·¯" class="headerlink" title="ç»„åˆå‘½ä»¤(åˆ åº“è·‘è·¯)"></a>ç»„åˆå‘½ä»¤(åˆ åº“è·‘è·¯)</h2><ul>
<li><p>åˆ—å‡ºæ‰€æœ‰å®¹å™¨id</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker ps -aq</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åœæ­¢æ‰€æœ‰çš„å®¹å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker stop $(docker ps -aq)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ é™¤æ‰€æœ‰çš„å®¹å™¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">rm</span> $(docker ps -aq)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åˆ é™¤æ‰€æœ‰çš„é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker rmi $(docker images -q)</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç»„åˆåˆ åº“è·‘è·¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker stop $(docker ps -aq) &amp;&amp; docker <span class="built_in">rm</span> $(docker ps -aq) &amp;&amp; docker rmi $(docker images -q)</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="å¸¸ç”¨å…¶ä»–å‘½ä»¤"><a href="#å¸¸ç”¨å…¶ä»–å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å…¶ä»–å‘½ä»¤"></a>å¸¸ç”¨å…¶ä»–å‘½ä»¤</h2><ul>
<li><p><strong>docker stats</strong> æŸ¥çœ‹å®¹å™¨ä½¿ç”¨èµ„æºæƒ…å†µ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿”å›å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ,ä¸€ç§’åˆ·æ–°ä¸€æ¬¡</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker stats</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿”å›å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ,ä¸åˆ·æ–°</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker stats --no-stream</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿”å›å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ,å·²ç»åœæ‰çš„ä¹Ÿæ˜¾ç¤º</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker stats -a</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">è¿”å›æŒ‡å®šå®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker stats å®¹å™¨<span class="built_in">id</span></span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åå°å¯åŠ¨å®¹å™¨**-d**</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d åå°å¯åŠ¨</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d centos</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker logs</strong>æŸ¥çœ‹æ—¥å¿—</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker logs -tf --<span class="built_in">tail</span> 10 å®¹å™¨<span class="built_in">id</span></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker logs [OPTIONS] CONTAINER</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">OPTIONSè¯´æ˜ï¼š</span></span><br><span class="line">-f       è·Ÿè¸ªæ—¥å¿—è¾“å‡º</span><br><span class="line">-t       æ˜¾ç¤ºæ—¶é—´æˆ³</span><br><span class="line">--since  æ˜¾ç¤ºæŸä¸ªå¼€å§‹æ—¶é—´çš„æ‰€æœ‰æ—¥å¿—</span><br><span class="line">--tail   ä»…åˆ—å‡ºæœ€æ–°Næ¡å®¹å™¨æ—¥å¿—</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker top</strong>æŸ¥çœ‹å®¹å™¨ä¸­çš„è¿›ç¨‹ä¿¡æ¯</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker top å®¹å™¨<span class="built_in">id</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker top 919121a5a1a6</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker inspect</strong> æŸ¥çœ‹å®¹å™¨çš„å…ƒæ•°æ®</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker inspect å®¹å™¨<span class="built_in">id</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker inspect 919121a5a1a6</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</p>
<ul>
<li><p>é€šå¸¸éƒ½æ˜¯åå°è¿è¡Œçš„,éœ€è¦è¿›å…¥å®¹å™¨,ä¿®æ”¹é…ç½®ä¹‹ç±»çš„</p>
</li>
<li><p>æ–¹å¼ä¸€<strong>docker exec</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å‘½ä»¤</span></span><br><span class="line"><span class="comment"># docker exec -it å®¹å™¨id /bin/bash</span></span><br><span class="line">$ docker <span class="built_in">exec</span> -it 919121a5a1a6 /bin/bash</span><br></pre></td></tr></table></figure>
</li>
<li><p>æ–¹å¼äºŒ<strong>docker attach</strong></p>
  <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‘½ä»¤</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker attach å®¹å™¨<span class="built_in">id</span></span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker attach 919121a5a1a6</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¸¤ç§æ–¹å¼çš„åŒºåˆ«</p>
<ul>
<li>docker exec     åœ¨å®¹å™¨ä¸­å¯åŠ¨æ–°çš„ç»ˆç«¯</li>
<li>docker attach  è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œå‘½ä»¤çš„é‚£ä¸ªç»ˆç«¯.</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>docker cp</strong>ä»å®¹å™¨æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker <span class="built_in">cp</span> å®¹å™¨<span class="built_in">id</span>:å®¹å™¨å†…çš„æ–‡ä»¶å å®¿ä¸»æœºä¸Šçš„æ–‡ä»¶å</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">cp</span> 919121a5a1a6:/root/123456.txt /root</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker <span class="built_in">cp</span> å®¿ä¸»æœºä¸Šçš„æ–‡ä»¶å å®¹å™¨<span class="built_in">id</span>:å®¹å™¨å†…çš„æ–‡ä»¶å</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">cp</span> /root/123456.txt 919121a5a1a6:/root</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="ä¸å¸¸ç”¨å…¶ä»–å‘½ä»¤"><a href="#ä¸å¸¸ç”¨å…¶ä»–å‘½ä»¤" class="headerlink" title="ä¸å¸¸ç”¨å…¶ä»–å‘½ä»¤"></a>ä¸å¸¸ç”¨å…¶ä»–å‘½ä»¤</h2><ul>
<li><p><strong>docker network</strong>å¯¹ç½‘ç»œçš„ç›¸å…³æ“ä½œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker network <span class="built_in">ls</span></span>  </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é€‰é¡¹:</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> connect     å°†å®¹å™¨è¿æ¥åˆ°ç½‘ç»œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> create      æ–°å»ºä¸€ä¸ªç½‘ç»œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">   --driver  ç½‘ç»œç±»å‹,é»˜è®¤æ˜¯bridgeæ¡¥æ¥</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">   --subnet  å­ç½‘æ©ç </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">   --gateway ç½‘å…³</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> disconnect  æ–­å¼€å®¹å™¨ä¸ç½‘ç»œçš„è¿æ¥</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> inspect     æ˜¾ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªç½‘ç»œçš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> <span class="built_in">ls</span>          åˆ—å‡ºç½‘ç»œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> prune       åˆ é™¤æ‰€æœ‰æœªä½¿ç”¨çš„ç½‘ç»œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash"> <span class="built_in">rm</span>          åˆ é™¤ä¸€ä¸ªæˆ–å¤šä¸ªç½‘ç»œ</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker tag</strong> å¯¹å·²ç»å­˜åœ¨çš„é•œåƒæ·»åŠ æ ‡ç­¾</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker tag å·²å­˜åœ¨çš„é•œåƒ<span class="built_in">id</span> dockerhubç”¨æˆ·å/é•œåƒå:TAG</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker tag 69b72121b45e sowevo/diytomcat:1.0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker login</strong>ç™»å½•å‘½ä»¤:ç™»å½•åˆ°dockerHub,å¯ä»¥å‘å¸ƒè‡ªå·±çš„é•œåƒäº†~</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker login</span></span><br><span class="line">é€‰é¡¹:</span><br><span class="line">  -p, --password å¯†ç </span><br><span class="line">  -u, --username è´¦å·</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker save</strong>é•œåƒå¯¼å‡ºæˆæ–‡ä»¶</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker save é•œåƒ<span class="built_in">id</span> -o ä¿å­˜çš„æ–‡ä»¶å</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker save sowevo/diytomcat:1.0 -o diytomcat.tar</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker load</strong>ä»æ–‡ä»¶å¯¼å…¥é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker load -i é‡åˆ°å¯¼å…¥çš„æ–‡ä»¶å</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker load -i diytomcat.tar</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker run -d -p 1234:80 --name nginx-1234 nginx</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d åå°è¿è¡Œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p ç«¯å£æ˜ å°„</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--name nginx-1234 å®¹å™¨çš„åç§°</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 1234:80 --name nginx-1234 nginx</span></span><br></pre></td></tr></table></figure>

<h3 id="tomcat"><a href="#tomcat" class="headerlink" title="tomcat"></a>tomcat</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker run -it -p 8080:8080 --name tomcat8080 tomcat</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-it äº¤äº’å¼å¯åŠ¨</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p ç«¯å£æ˜ å°„</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--name tomcat8080 å®¹å™¨çš„åç§°</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -it -p 8080:8080 --name tomcat8080 tomcat</span></span><br></pre></td></tr></table></figure>

<h3 id="elasticsearch"><a href="#elasticsearch" class="headerlink" title="elasticsearch"></a>elasticsearch</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e <span class="string">&quot;discovery.type=single-node&quot;</span> elasticsearch:7.10.1</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d  åå°è¿è¡Œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p  ç«¯å£æ˜ å°„,æœ‰ä¸¤ä¸ª</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-e  é•œåƒçš„ç¯å¢ƒå‚æ•° å…·ä½“ç”±é•œåƒæ¥æŒ‡å®š,çœ‹ä¸‹é•œåƒçš„æ–‡æ¡£</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--name elasticsearch å®¹å™¨çš„åç§°</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d --name elasticsearch -p 9200:9200 -p 9300:9300 -e <span class="string">&quot;discovery.type=single-node&quot;</span> -e <span class="string">&quot;ES_JAVA_OPTS=-Xms64m -Xmx512m&quot;</span> elasticsearch:7.10.1</span></span><br></pre></td></tr></table></figure>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><img data-src="https://up.sowevo.com/img/20201224224200.png" alt="img"></p>
<h1 id="å¯è§†åŒ–"><a href="#å¯è§†åŒ–" class="headerlink" title="å¯è§†åŒ–"></a>å¯è§†åŒ–</h1><h2 id="Prtainer"><a href="#Prtainer" class="headerlink" title="Prtainer"></a>Prtainer</h2><ul>
<li><p>å®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 8000:9000 --restart=always -v /var/run/docker.sock:/var/run/docker.sock --privileged=<span class="literal">true</span> portainer/portainer</span> </span><br></pre></td></tr></table></figure>
</li>
<li><p>ç”¨çš„æ¯”è¾ƒå°‘</p>
</li>
</ul>
<h2 id="Rancher"><a href="#Rancher" class="headerlink" title="Rancher"></a>Rancher</h2><h1 id="Dockeré•œåƒ"><a href="#Dockeré•œåƒ" class="headerlink" title="Dockeré•œåƒ"></a>Dockeré•œåƒ</h1><h2 id="é•œåƒæ˜¯ä»€ä¹ˆ"><a href="#é•œåƒæ˜¯ä»€ä¹ˆ" class="headerlink" title="é•œåƒæ˜¯ä»€ä¹ˆ"></a>é•œåƒæ˜¯ä»€ä¹ˆ</h2><p>é•œåƒæ˜¯ä¸€ç§è½»é‡çº§.å¯æ‰§è¡Œçš„ç‹¬ç«‹è½¯ä»¶,ç”¨æ¥æ‰“åŒ…è¿è¡Œç¯å¢ƒå’ŒåŸºäºè¿è¡Œç¯å¢ƒå¼€å‘çš„è½¯ä»¶,å®ƒåŒ…å«è¿è¡ŒæŸä¸ªè½¯ä»¶æ‰€éœ€çš„æ‰€æœ‰å†…å®¹,åŒ…æ‹¬ä»£ç ,è¿è¡Œæ—¶,åº“,ç¯å¢ƒå’Œé…ç½®æ–‡ä»¶</p>
<p>æ‰€æœ‰çš„åº”ç”¨,ç›´æ¥æ‰“åŒ…Dockeré•œåƒ,å°±å¯ä»¥ç›´æ¥è·‘èµ·æ¥</p>
<p>å¦‚ä½•å¾—åˆ°é•œåƒ</p>
<ul>
<li>ä»è¿œç¨‹ä»“åº“ä¸‹è½½</li>
<li>ä»åˆ«å¤„æ‹·è´</li>
<li>è‡ªå·±åˆ¶ä½œä¸€ä¸ªé•œåƒDockerfile</li>
</ul>
<h2 id="Dockeré•œåƒåŠ è½½åŸç†"><a href="#Dockeré•œåƒåŠ è½½åŸç†" class="headerlink" title="Dockeré•œåƒåŠ è½½åŸç†"></a>Dockeré•œåƒåŠ è½½åŸç†</h2><h3 id="UnionFSè”åˆæ–‡ä»¶ç³»ç»Ÿ"><a href="#UnionFSè”åˆæ–‡ä»¶ç³»ç»Ÿ" class="headerlink" title="UnionFSè”åˆæ–‡ä»¶ç³»ç»Ÿ"></a>UnionFSè”åˆæ–‡ä»¶ç³»ç»Ÿ</h3><p>æˆ‘ä»¬ä¸‹è½½çš„æ—¶å€™çœ‹åˆ°çš„ä¸€å±‚å±‚å°±æ˜¯è¿™ä¸ª!<br>UnionFS (è”åˆæ–‡ä»¶ç³»ç»Ÿ) : Unionæ–‡ä»¶ç³»ç»Ÿ( UnionFS )æ˜¯-ç§åˆ†å±‚ã€è½»é‡çº§å¹¶ä¸”é«˜æ€§èƒ½çš„æ–‡ä»¶ç³»ç»Ÿ,å®ƒæ”¯æŒå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä½œä¸ºä¸€æ¬¡æäº¤æ¥-å±‚å±‚çš„å åŠ ,åŒæ—¶å¯ä»¥å°†ä¸åŒå½•æŒ‚è½½åˆ°åŒä¸€ä¸ªè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿä¸‹(unite several directories into a single virtual filesystem)ã€‚Union æ–‡ä»¶ç³»ç»Ÿæ˜¯Dockeré•œåƒçš„åŸºç¡€ã€‚é•œåƒå¯ä»¥é€šè¿‡åˆ†å±‚æ¥è¿›è¡Œç»§æ‰¿,åŸºäºåŸºç¡€é•œåƒ(æ²¡æœ‰çˆ¶é•œåƒ)ï¼Œå¯ä»¥åˆ¶ä½œå„ç§å…·ä½“çš„åº”ç”¨é•œåƒã€‚<br>ç‰¹æ€§: ä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿ,ä½†ä»å¤–é¢çœ‹èµ·æ¥,åªèƒ½çœ‹åˆ°ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿ,è”åˆåŠ è½½ä¼šæŠŠå„å±‚æ–‡ä»¶ç³»ç»Ÿå åŠ èµ·æ¥,è¿™æ ·æœ€ç»ˆçš„æ–‡ä»¶ç³»ç»Ÿä¼šåŒ…å«æ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•</p>
<h3 id="Dockeré•œåƒåŠ è½½åŸç†-1"><a href="#Dockeré•œåƒåŠ è½½åŸç†-1" class="headerlink" title="Dockeré•œåƒåŠ è½½åŸç†"></a>Dockeré•œåƒåŠ è½½åŸç†</h3><p>dockerçš„é•œåƒå®é™…ä¸Šç”±ä¸€å±‚å±‚çš„æ–‡ä»¶ ç³»ç»Ÿç»„æˆ ï¼Œè¿™ç§å±‚çº§çš„æ–‡ä»¶ç³»ç»ŸUnionFSã€‚</p>
<p>bootfs(boot file system)ä¸»è¦åŒ…å«bootloaderå’Œkernel,bootloaderä¸»è¦æ˜¯å¼•å¯¼åŠ è½½kernel, Linuxåˆšå¯åŠ¨æ—¶ä¼šåŠ è½½bootfsæ–‡ä»¶ç³»ç»Ÿ,åœ¨Dockeré•œåƒçš„æœ€åº•å±‚æ˜¯bootfs.è¿™ä¸€å±‚ä¸æˆ‘ä»¬å…¸å‹çš„Linux&#x2F;Unixç³»ç»Ÿæ˜¯ä¸€æ ·çš„ ,åŒ…å«bootåŠ è½½å™¨å’Œå†…æ ¸.å½“bootåŠ è½½å®Œæˆä¹‹åæ•´ä¸ªå†…æ ¸å°±éƒ½åœ¨å†…å­˜ä¸­äº†,æ­¤æ—¶å†…å­˜çš„ä½¿ç”¨æƒå·²ç”±bootfsè½¬äº¤ç»™å†…æ ¸,æ­¤æ—¶ç³»ç»Ÿä¹Ÿä¼šå¸è½½bootfs.<br>rootfs (root file system) ,åœ¨bootfsä¹‹ä¸Š.åŒ…å«çš„å°±æ˜¯å…¸å‹Linuxç³»ç»Ÿä¸­çš„&#x2F;dev, &#x2F;proc, &#x2F;bin, &#x2F;etcç­‰æ ‡å‡†ç›®å½•å’Œæ–‡ä»¶.rootfså°±æ˜¯å„ç§ä¸åŒçš„æ“ä½œç³»ç»Ÿå‘è¡Œç‰ˆ,æ¯”å¦‚Ubuntu,Centosç­‰ç­‰ã€‚</p>
<p><img data-src="https://up.sowevo.com/img/20201225105806.png" alt="image-20201225105806178"></p>
<p>å¯¹äºä¸€ä¸ªç²¾ç®€çš„OS,rootfså¯ä»¥å¾ˆå°,åªè¦åŒ…å«æœ€åŸºæœ¬çš„å‘½ä»¤,å·¥å…·å’Œç¨‹åºåº“å°±å¯ä»¥,åº•å±‚ç›´æ¥ä½¿ç”¨å®¿ä¸»æœºçš„kernel,å¯¹äºä¸åŒçš„linuxå‘è¡Œç‰ˆæœ¬,bootfsåŸºæœ¬ä¸€è‡´,rootfsä¼šæœ‰å·®åˆ«,å› æ­¤å¯ä»¥å…±ç”¨bootfs</p>
<h3 id="åˆ†å±‚"><a href="#åˆ†å±‚" class="headerlink" title="åˆ†å±‚"></a>åˆ†å±‚</h3><p>Dockeré•œåƒç”±ä¸€äº›æ¾è€¦åˆçš„åªè¯»é•œåƒå±‚ç»„æˆ</p>
<p><img data-src="https://up.sowevo.com/img/20201225111718.png" alt="image-20201225111718539"></p>
<p>Dockerè´Ÿè´£å †å è¿™äº›é•œåƒå±‚ï¼Œå¹¶ä¸”å°†å®ƒä»¬è¡¨ç¤ºä¸ºå•ä¸ªç»Ÿä¸€çš„å¯¹è±¡ã€‚</p>
<p>ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­.</p>
<p><img data-src="https://up.sowevo.com/img/20201225112011.png" alt="image-20201225112011045"></p>
<h3 id="commitæäº¤é•œåƒ"><a href="#commitæäº¤é•œåƒ" class="headerlink" title="commitæäº¤é•œåƒ"></a>commitæäº¤é•œåƒ</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker commit å°†ä¸€ä¸ªå®¹å™¨æäº¤åˆ°æœ¬åœ°æˆä¸ºä¸€ä¸ªæ–°çš„é•œåƒ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æäº¤åˆ°æœ¬åœ°é•œåƒåº“</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker commit -m=<span class="string">&#x27;æè¿°&#x27;</span> -a=<span class="string">&#x27;ä½œè€…&#x27;</span> å®¹å™¨<span class="built_in">id</span> æ–°çš„é•œåƒå</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸¾ä¸ªä¾‹å­</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é»˜è®¤çš„Tomcat webappä¸‹é¢æ˜¯ç©ºçš„,è‡ªå·±æ”¾ç½®å¥½å†…å®¹ä¹‹å,æƒ³è¦ä»¥åæ¯æ¬¡æ–°å»ºå®¹å™¨éƒ½ç”¨è¿™ä¸ªä¿®æ”¹è¿‡çš„,å¯ä»¥æŠŠå½“å‰è¿™ä¸ªé•œåƒæäº¤åˆ°æœ¬åœ°é•œåƒåº“ä¸­</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä»¥åå°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–°æäº¤çš„é•œåƒè¿è¡Œå®¹å™¨</span></span><br></pre></td></tr></table></figure>

<h1 id="å®¹å™¨æ•°æ®å·"><a href="#å®¹å™¨æ•°æ®å·" class="headerlink" title="å®¹å™¨æ•°æ®å·"></a>å®¹å™¨æ•°æ®å·</h1><h2 id="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"><a href="#ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·" class="headerlink" title="ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·"></a>ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·</h2><p>å°†å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åˆ°å®¿ä¸»æœºä¸Š,å®¹å™¨ä¸­çš„æ•°æ®å¯ä»¥å­˜å‚¨åˆ°æœ¬åœ°,è¿™å°±æ˜¯æ•°æ®å·.</p>
<p>ä¸ºäº†å®¹å™¨æ•°æ®çš„æŒä¹…åŒ–å’Œæ•°æ®åŒæ­¥æ“ä½œ</p>
<h2 id="ä½¿ç”¨æ•°æ®å·"><a href="#ä½¿ç”¨æ•°æ®å·" class="headerlink" title="ä½¿ç”¨æ•°æ®å·"></a>ä½¿ç”¨æ•°æ®å·</h2><h3 id="å‘½ä»¤æŒ‚è½½"><a href="#å‘½ä»¤æŒ‚è½½" class="headerlink" title="å‘½ä»¤æŒ‚è½½"></a>å‘½ä»¤æŒ‚è½½</h3><ul>
<li><p><strong>docker run -v</strong> ä½¿ç”¨å‘½ä»¤æ¥æŒ‚è½½</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker run it -v ä¸»æœºç›®å½•:å®¹å™¨ç›®å½• é•œåƒåç§°</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä¸¤ä¸ªæ–‡ä»¶å¤¹äº’ç›¸åŒæ­¥</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-v</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">   -v å®¹å™¨å†…è·¯å¾„            åŒ¿åæŒ‚è½½</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">   -v å·å:å®¹å™¨å†…è·¯å¾„       å…·åæŒ‚è½½</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">   -v å®¹å™¨å¤–è·¯å¾„:å®¹å™¨å†…è·¯å¾„  æŒ‡å®šè·¯å¾„æŒ‚è½½,ä¸å…·åæŒ‚è½½çš„åŒºåˆ«æ˜¯,å¼€å¤´æ˜¯/</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -it -v /root/test:/root ubuntu</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å…·åæŒ‚è½½å’ŒåŒ¿åæŒ‚è½½</p>
<p>æŒ‚è½½çš„ä¸‰ç§å½¢å¼</p>
<ul>
<li><p>åŒ¿åæŒ‚è½½</p>
<p>-v å®¹å™¨å†…è·¯å¾„,å·åæ˜¯éšæœºhashå€¼            </p>
<p>æ–‡ä»¶ä¼šåœ¨<code>/var/lib/docker/volumes/&#123;hashå€¼&#125;/_data </code>ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -it -v /root ubuntu</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å…·åæŒ‚è½½</p>
<p>-v å·å:å®¹å™¨å†…è·¯å¾„</p>
<p>æ–‡ä»¶ä¼šåœ¨<code>/var/lib/docker/volumes/&#123;å·å&#125;/_data </code>ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -it -v å·å:/root ubuntu</span></span><br></pre></td></tr></table></figure></li>
<li><p>æŒ‡å®šè·¯å¾„æŒ‚è½½</p>
<p>-v å®¿ä¸»æœºè·¯å¾„:å®¹å™¨å†…è·¯å¾„</p>
<p>æ–‡ä»¶ä¼šåœ¨æŒ‡å®šçš„å®¿ä¸»æœºè·¯å¾„ä¸‹</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -it -v /root/test:/root ubuntu</span></span><br></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>&#x3D;&#x3D;å½“æŒ‚è½½å®¿ä¸»æœºä¸å­˜åœ¨çš„æ–‡ä»¶æ—¶,ä¼šå°†å®¹å™¨ä¸­çš„æ–‡ä»¶ç»™è¦†ç›–æˆç©ºçš„&#x3D;&#x3D;</p>
</li>
<li><p>è¯»å†™æƒé™çš„æ§åˆ¶</p>
<p>é»˜è®¤å»ºçš„å·éƒ½æ˜¯å¯è¯»å¯å†™çš„æƒé™</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‡å®šæƒé™rw:å¯è¯»å¯å†™</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -it -v /root/test:/root:rw ubuntu</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŒ‡å®šæƒé™ro:å¯è¯»ä¸å¯å†™,åªæœ‰å®¿ä¸»æœºå¯ä»¥ä¿®æ”¹,å®¹å™¨å†…åªèƒ½è¯»å–</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -it -v /root/test:/root:ro ubuntu</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ä¾‹å­:MysqlåŒæ­¥æ•°æ®</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d åå°è¿è¡Œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p ç«¯å£</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-v æŒ‚è½½è·¯å¾„ å°†mysqlçš„æ•°æ®ç›®å½•å’Œé…ç½®ç›®å½•æŒ‚è½½å‡ºæ¥,å…·ä½“è¦æŒ‚è½½å“ªäº›è·¯å¾„,è¦çœ‹é•œåƒçš„æ–‡æ¡£</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-e é•œåƒçš„ç¯å¢ƒå‚æ•° å…·ä½“ç”±é•œåƒæ¥æŒ‡å®š,çœ‹ä¸‹é•œåƒçš„æ–‡æ¡£</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 3306:3306 -v /home/mysql/conf:/etc/mysql/conf.d -v /home/mysql/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=root  --name mysql01 mysql:5.7</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="DockerFileæŒ‚è½½"><a href="#DockerFileæŒ‚è½½" class="headerlink" title="DockerFileæŒ‚è½½"></a>DockerFileæŒ‚è½½</h3><p>DockerFileå°±æ˜¯ç”¨æ¥æ„å»ºdockeré•œåƒçš„è„šæœ¬æ–‡ä»¶</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span>  centos</span><br><span class="line"><span class="keyword">VOLUME</span><span class="language-bash">  [<span class="string">&quot;volume01&quot;</span>,<span class="string">&quot;/volume02&quot;</span>]</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash">  <span class="built_in">echo</span> <span class="string">&quot;end&quot;</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash">  /bin/bash</span></span><br></pre></td></tr></table></figure>

<p>Dockerä¸­å¯ä»¥æŒ‡å®šæŒ‚è½½æ–‡ä»¶<code>VOLUME</code>,åªèƒ½åŒ¿åæŒ‚è½½</p>
<p>å¦‚æœå¯åŠ¨å®¹å™¨æ—¶åˆ¶å®šäº†ç›¸åŒçš„å·,DockerFileé‡Œé¢çš„ä¼šè¢«è¦†ç›–</p>
<h3 id="æ•°æ®å·å®¹å™¨-â€“volumes-from"><a href="#æ•°æ®å·å®¹å™¨-â€“volumes-from" class="headerlink" title="æ•°æ®å·å®¹å™¨:â€“volumes-from"></a>æ•°æ®å·å®¹å™¨:<strong>â€“volumes-from</strong></h3><p>é¡¾åæ€ä¹‰,å°±æ˜¯ä»å¦ä¸€ä¸ªå®¹å™¨å½“ä¸­æŒ‚è½½å®¹å™¨ä¸­å·²ç»åˆ›å»ºå¥½çš„æ•°æ®å·</p>
<p>å¯ä»¥åšåˆ°ä¸¤ä¸ªå®¹å™¨ä¹‹é—´çš„å®¹å™¨å…±äº«</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…ˆå»ºç«‹ä¸€ä¸ªæœ‰æŒ‚è½½æ–‡ä»¶å®¹å™¨</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run --name ubuntu01 -it -v /root/test:/root ubuntu</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨å»ºç«‹ä¸€ä¸ªå®¹å™¨å¯ä»¥æŒ‚è½½ä¹‹å‰å®¹å™¨æŒ‚è½½çš„å·</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run --name ubuntu02 --volumes-from=ubuntu01 -it ubuntu</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run --name ubuntu03 --volumes-from=ubuntu01 -it ubuntu</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åšåˆ°å¤šä¸ªå®¹å™¨ä¹‹é—´çš„é…ç½®æ–‡ä»¶ä¿¡æ¯çš„ä¼ é€’</p>
<h1 id="DockerFile"><a href="#DockerFile" class="headerlink" title="DockerFile"></a>DockerFile</h1><h2 id="Dockerfileä»‹ç»"><a href="#Dockerfileä»‹ç»" class="headerlink" title="Dockerfileä»‹ç»"></a>Dockerfileä»‹ç»</h2><p>ç”¨æ¥æ„å»ºDockeré•œåƒçš„æ–‡ä»¶!æ˜¯ä¸ªè„šæœ¬</p>
<p>æ„å»ºæ­¥éª¤</p>
<ol>
<li>ç¼–å†™Dockerfileæ–‡ä»¶</li>
<li>docker bulid æ„å»ºæˆä¸ºä¸€ä¸ªé•œåƒ</li>
<li>docker run è¿è¡Œè¿™ä¸ªé•œåƒ</li>
<li>docker push å‘å¸ƒè¿™ä¸ªé•œåƒ(Dockerhub,é˜¿é‡Œäº‘ä»“åº“,ç§æœ‰ä»“åº“)</li>
</ol>
<p>å®˜æ–¹é•œåƒå¾ˆå¤šéƒ½æ˜¯åŸºç¡€åŒ…,å¾ˆå¤šåŠŸèƒ½æ²¡æœ‰,æˆ‘ä»¬é€šå¸¸ä¼šæ„å»ºè‡ªå·±çš„é•œåƒ</p>
<h2 id="Dockerfileæ„å»ºè¿‡ç¨‹"><a href="#Dockerfileæ„å»ºè¿‡ç¨‹" class="headerlink" title="Dockerfileæ„å»ºè¿‡ç¨‹"></a>Dockerfileæ„å»ºè¿‡ç¨‹</h2><p>Dockerfileæ˜¯é¢å‘å¼€å‘çš„,æˆ‘ä»¬ä»¥åå‘å¸ƒé¡¹ç›®,ä½œé•œåƒ,å°±éœ€è¦ç¼–å†™Dockerfileæ–‡ä»¶,è¿™ä¸ªæ–‡ä»¶ååˆ†ç®€å•</p>
<p>dockeré•œåƒå·²ç»é€æ¸æˆä¸ºä¼ä¸šäº¤ä»˜çš„ä¸€ä¸ªæ ‡å‡†,æœ‰å¿…è¦æŒæ¡!</p>
<h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><p>Dockerfile:æ„å»ºæ–‡ä»¶,å®šä¹‰äº†ä¸€åˆ‡çš„æ­¥éª¤,æºä»£ç </p>
<p>DockerImage:é•œåƒ,é€šè¿‡Dockerfileæ„å»ºç”Ÿæˆ,æœ€ç»ˆå‘å¸ƒå’Œè¿è¡Œçš„äº§å“</p>
<p>Dockerå®¹å™¨:å®¹å™¨å°±æ˜¯é•œåƒè¿è¡Œèµ·æ¥çš„æœåŠ¡</p>
<h3 id="DockerFileçš„æŒ‡ä»¤"><a href="#DockerFileçš„æŒ‡ä»¤" class="headerlink" title="DockerFileçš„æŒ‡ä»¤"></a>DockerFileçš„æŒ‡ä»¤</h3><p>è„šæœ¬æœ‰å¾ˆå¤šæŒ‡ä»¤</p>
<ul>
<li>åŸºç¡€çŸ¥è¯†<ol>
<li>æ¯ä¸ªæŒ‡ä»¤éƒ½æ˜¯å¤§å†™</li>
<li>æ‰§è¡Œé¡ºåºä»ä¸Šåˆ°ä¸‹</li>
<li># æ˜¯æ³¨é‡Š</li>
<li>æ¯ä¸€ä¸ªç›´å¾„éƒ½ä¼šåˆ›å»ºæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚,å¹¶æäº¤</li>
</ol>
</li>
</ul>
<p><img data-src="https://up.sowevo.com/img/20201225140303.png" alt="img"></p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span>          <span class="comment"># åŸºç¡€é•œåƒ,ä¸€åˆ‡ä»è¿™é‡Œå¼€å§‹</span></span><br><span class="line"><span class="keyword">MAINTAINER</span>    <span class="comment"># é•œåƒæ˜¯è°å†™çš„,å§“å,é‚®ç®±</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash">           <span class="comment"># é•œåƒæ„å»ºæ—¶è¦è¿è¡Œçš„å‘½ä»¤</span></span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash">           <span class="comment"># æ·»åŠ æ–‡ä»¶,ä¾‹å¦‚tomcatçš„å‹ç¼©åŒ…,ä¼šè‡ªåŠ¨è§£å‹æ–‡ä»¶</span></span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash">       <span class="comment"># é•œåƒçš„å·¥ä½œç›®å½•</span></span></span><br><span class="line"><span class="keyword">VOLUME</span><span class="language-bash">        <span class="comment"># æŒ‚è½½çš„ç›®å½•</span></span></span><br><span class="line"><span class="keyword">EXPOSE</span>        <span class="comment"># æš´éœ²çš„ç«¯å£</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash">           <span class="comment"># å¯åŠ¨æ—¶è¦è¿è¡Œçš„è„šæœ¬,å¤–éƒ¨æŒ‡å®šå‘½ä»¤æ—¶ä¼šè¢«æ›¿æ¢,</span></span></span><br><span class="line">              <span class="comment"># ä¾‹å¦‚æŒ‡å®šäº†ls,å¤–éƒ¨å¯åŠ¨æ—¶æ‹¼æ¥-a,ä¼šè¢«æ›¿æ¢,åªå‰©-a,æŠ¥é”™</span></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash">    <span class="comment"># å¯åŠ¨æ—¶è¦è¿è¡Œçš„è„šæœ¬,å¤–éƒ¨æŒ‡å®šå‘½ä»¤æ—¶ä¸ä¼šè¢«æ›¿æ¢,è€Œæ˜¯è¿½åŠ </span></span></span><br><span class="line">              <span class="comment"># ä¾‹å¦‚æŒ‡å®šäº†ls,å¤–éƒ¨å¯åŠ¨æ—¶æ‹¼æ¥-a,ä¼šè¢«è¿½åŠ ,åªå‰©ls -aå¯ä»¥è¿è¡Œ</span></span><br><span class="line"><span class="keyword">ONBUILD</span>       <span class="comment"># å½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿DockerFile,è¿™ä¸ªå‘½ä»¤å°±ä¼šè¢«æ‰§è¡Œ,è§¦å‘æŒ‡ä»¤</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash">          <span class="comment"># ç±»ä¼¼ADD,å°†æ–‡ä»¶æ‹·è´åˆ°é•œåƒä¸­</span></span></span><br><span class="line"><span class="keyword">ENV</span>           <span class="comment"># æ„å»ºçš„æ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡</span></span><br></pre></td></tr></table></figure>

<h2 id="å®æˆ˜æµ‹è¯•"><a href="#å®æˆ˜æµ‹è¯•" class="headerlink" title="å®æˆ˜æµ‹è¯•"></a>å®æˆ˜æµ‹è¯•</h2><p>DockerHubä¸­99%çš„é•œåƒæ˜¯ä»<code>scratch</code>æ¥çš„,æœ€åŸºç¡€çš„é•œåƒ</p>
<ul>
<li><p>æ„å»ºè‡ªå·±çš„centos,å®‰è£…ä¸€äº›ä¾èµ–</p>
<ol>
<li><p>ç¼–å†™Dockerfile</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">FROM</span> centos</span><br><span class="line"><span class="keyword">MAINTAINER</span> sowevo&lt;i@sowevo.com&gt;</span><br><span class="line"><span class="keyword">ENV</span> MYPATH /<span class="keyword">user</span>/local</span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> <span class="variable">$MYPATH</span>               <span class="comment"># æŒ‡å®šå·¥ä½œè·¯å¾„</span></span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> yum -y install vim        <span class="comment"># å®‰è£…ä¸ªè½¯ä»¶</span></span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> yum -y install net-tools  <span class="comment"># å®‰è£…ä¸ªè½¯ä»¶</span></span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">80</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> <span class="built_in">echo</span> <span class="variable">$MYPATH</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> <span class="built_in">echo</span> <span class="string">&quot;---end---&quot;</span></span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> /bin/bash</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker build</strong>æ„å»ºé•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker build -f myDcokerFile-centos -t sowevo/centos .</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œè¿™ä¸ªé•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -it 8410af091bf5 sowevo/centos</span></span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>æ„å»ºè‡ªå·±çš„tomcat</p>
<ol>
<li><p>ä»ä¸‹è½½ä¸€ä¸ªJDKå’ŒTomcatå¼€å§‹</p>
<p><img data-src="https://up.sowevo.com/img/20201225151338.png" alt="image-20201225151338200"></p>
</li>
<li><p>ç¼–å†™DockerFile,æœ€å¥½ä½¿ç”¨<code>Dockerfile</code>,å®˜æ–¹æ¨èç”¨</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥centosä¸ºåŸºç¡€</span></span><br><span class="line"><span class="keyword">FROM</span> centos</span><br><span class="line"><span class="keyword">MAINTAINER</span> sowevo&lt;i@sowevo.com&gt;</span><br><span class="line"><span class="comment"># ç¯å¢ƒå˜é‡:å·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">ENV</span> WORKPATH /usr/local</span><br><span class="line"><span class="comment"># æ‹·è´å¸®åŠ©æ–‡æ¡£</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> README <span class="variable">$WORKPATH</span>/README</span></span><br><span class="line"><span class="comment"># æ‹·è´javaå’Œtomcatçš„å®‰è£…åŒ…,ä¼šè‡ªåŠ¨è§£å‹åˆ°æŒ‡å®šè·¯å¾„</span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> apache-tomcat-9.0.41.tar.gz <span class="variable">$WORKPATH</span></span></span><br><span class="line"><span class="keyword">ADD</span><span class="language-bash"> jdk-8u251-linux-x64.tar.gz  <span class="variable">$WORKPATH</span></span></span><br><span class="line"><span class="comment"># å®‰è£…ä¸€ä¸ªvim</span></span><br><span class="line"><span class="keyword">RUN</span><span class="language-bash"> yum -y install vim</span></span><br><span class="line"><span class="comment"># javaå’Œtomcatéœ€è¦çš„ ç¯å¢ƒå˜è„¸</span></span><br><span class="line"><span class="keyword">ENV</span> JAVA_HOME $WORKPATH/jdk1.<span class="number">8.0</span>_251</span><br><span class="line"><span class="keyword">ENV</span> CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/lib/tools.jar</span><br><span class="line"><span class="keyword">ENV</span> CATALINA_HOME $WORKPATH/apache-tomcat-<span class="number">9.0</span>.<span class="number">41</span></span><br><span class="line"><span class="keyword">ENV</span> CATALINA_BASH $WORKPATH/apache-tomcat-<span class="number">9.0</span>.<span class="number">41</span></span><br><span class="line"><span class="keyword">ENV</span> PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/lib</span><br><span class="line"><span class="comment"># æŒ‡å®šå·¥ä½œç›®å½•</span></span><br><span class="line"><span class="keyword">WORKDIR</span><span class="language-bash"> <span class="variable">$WORKPATH</span></span></span><br><span class="line"><span class="comment"># å¼€æ”¾ç«¯å£</span></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"><span class="comment"># å¯åŠ¨æ—¶è¦æ‰§è¡Œçš„å‘½ä»¤</span></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> <span class="variable">$CATALINA_HOME</span>/bin/startup.sh &amp;&amp; <span class="built_in">tail</span> -F <span class="variable">$CATALINA_HOME</span>/logs/catalina.out</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>docker build</strong>æ„å»ºé•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœDockerfileçš„åå­—æ ‡å‡†çš„è¯,å¯ä»¥ä¸å†™-f å‚æ•°</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker build -t diytomcat .</span> </span><br></pre></td></tr></table></figure>
</li>
<li><p>è¿è¡Œè¿™ä¸ªé•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d åå°è¿è¡Œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p ç«¯å£æ˜ å°„</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-v æ–‡ä»¶æŒ‚è½½</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 8080:8080  --name diytomcat -v /root/dockerfile/tomcat/webapps/test:/usr/local/apache-tomcat-9.0.41/webapps/test -v /root/dockerfile/tomcat/logs:/usr/local/apache-tomcat-9.0.41/logs diytomcat</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>é¡¹ç›®æ–‡ä»¶ä¸¢è¿›å®¿ä¸»æœºçš„<code>/root/dockerfile/tomcat/webapps/test</code>è·¯å¾„å³å¯è®¿é—®</p>
</li>
</ol>
</li>
</ul>
<h2 id="å‘å¸ƒé•œåƒ"><a href="#å‘å¸ƒé•œåƒ" class="headerlink" title="å‘å¸ƒé•œåƒ"></a>å‘å¸ƒé•œåƒ</h2><h3 id="DockerHub"><a href="#DockerHub" class="headerlink" title="DockerHub"></a>DockerHub</h3><ol>
<li><p>æ³¨å†Œè´¦å·</p>
</li>
<li><p>ç™»å½•</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker login</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŠ ä¸€ä¸ªæ ‡ç­¾</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœé•œåƒæ ‡ç­¾ä¸å¯¹,ä¼šè¢«æ‹’ç»</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯ä»¥åŠ ä¸€ä¸ªè§„èŒƒçš„tag</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯¹å·²ç»å­˜åœ¨çš„é•œåƒæ·»åŠ tag ä½¿ç”¨tagå‘½ä»¤åŠ ä¸€ä¸ªæ ‡ç­¾</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker tag 69b72121b45e sowevo/diytomcat:1.0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æäº¤è‡ªå·±çš„é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç½‘ä¸å¥½,æ¨ä¸ä¸Šå»,å¤šå°è¯•å‡ æ¬¡!</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker push sowevo/diytomcat:1.0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘å¸ƒæˆåŠŸ!</p>
</li>
</ol>
<h3 id="è…¾è®¯äº‘é•œåƒä»“åº“"><a href="#è…¾è®¯äº‘é•œåƒä»“åº“" class="headerlink" title="è…¾è®¯äº‘é•œåƒä»“åº“"></a>è…¾è®¯äº‘é•œåƒä»“åº“</h3><ol>
<li><p>ç™»å½•è…¾è®¯äº‘</p>
</li>
<li><p>æ‰¾åˆ°å®¹å™¨é•œåƒæœåŠ¡,å¹¶å¼€é€š</p>
<p><img data-src="https://up.sowevo.com/img/20201225165612.png" alt="image-20201225165612151"></p>
</li>
<li><p>åˆ›å»ºå‘½åç©ºé—´</p>
<p>![image-20201225170110909](&#x2F;Users&#x2F;sowevo&#x2F;Library&#x2F;Application Support&#x2F;typora-user-images&#x2F;image-20201225170110909.png)</p>
</li>
<li><p>åˆ›å»ºå®¹å™¨é•œåƒ</p>
<p><img data-src="https://up.sowevo.com/img/20201225170255.png" alt="image-20201225170254932"></p>
</li>
<li><p>ç™»å½•è…¾è®¯äº‘ä»“åº“</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> docker login --username=23642660 ccr.ccs.tencentyun.com</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>åŠ ä¸€ä¸ªæ ‡ç­¾</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> docker tag [ImageId] ccr.ccs.tencentyun.com/sowevo/diytomcat:[tag]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æäº¤è‡ªå·±çš„é•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"><span class="built_in">sudo</span> docker push ccr.ccs.tencentyun.com/sowevo/diytomcat:[tag]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æäº¤æˆåŠŸ!</p>
</li>
</ol>
<h3 id="å…¶ä»–é•œåƒä»“åº“"><a href="#å…¶ä»–é•œåƒä»“åº“" class="headerlink" title="å…¶ä»–é•œåƒä»“åº“"></a>å…¶ä»–é•œåƒä»“åº“</h3><p>æ“ä½œç±»ä¼¼,éƒ½æœ‰æä¾›æ–‡æ¡£</p>
<h2 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p><img data-src="https://up.sowevo.com/img/20201225173454.png" alt="img"></p>
<h1 id="Dockerç½‘ç»œ"><a href="#Dockerç½‘ç»œ" class="headerlink" title="Dockerç½‘ç»œ"></a>Dockerç½‘ç»œ</h1><p>å®‰è£…dockerä¼šè‡ªåŠ¨å®‰è£…ä¸€ä¸ªè™šæ‹Ÿç½‘å¡Dokcer0 </p>
<p>å¤šä¸ªå®¹å™¨ä¸æŒ‡å®šç½‘ç»œçš„è¯,é»˜è®¤ä½¿ç”¨è¿æ¥è¿™ä¸ªè™šæ‹Ÿç½‘å¡Docker0è·¯ç”±,dockerä¼šç»™æˆ‘ä»¬åˆ†é…ä¸€ä¸ªé»˜è®¤çš„å¯ç”¨çš„IP</p>
<p><img data-src="https://up.sowevo.com/img/20201225181651.png" alt="img"></p>
<p>ä½¿ç”¨<strong>docker network</strong>æŸ¥çœ‹æ‰€æœ‰çš„dockerç½‘ç»œ</p>
<h2 id="Dockerçš„å‡ ç§ç½‘ç»œæ¨¡å¼"><a href="#Dockerçš„å‡ ç§ç½‘ç»œæ¨¡å¼" class="headerlink" title="Dockerçš„å‡ ç§ç½‘ç»œæ¨¡å¼"></a>Dockerçš„å‡ ç§ç½‘ç»œæ¨¡å¼</h2><ul>
<li>bridge:æ¡¥æ¥ç½‘ç»œ,é»˜è®¤çš„</li>
<li>none:ä¸é…ç½®ç½‘ç»œ</li>
<li>host:ä¸»æœºæ¨¡å¼,å’Œå®¿ä¸»æœºå…±äº«ç½‘ç»œ</li>
<li>container:å®¹å™¨é—´ç½‘ç»œè”é€š!(ç”¨çš„å°‘)</li>
</ul>
<h2 id="å®¹å™¨äº’è¿"><a href="#å®¹å™¨äº’è¿" class="headerlink" title="å®¹å™¨äº’è¿"></a>å®¹å™¨äº’è¿</h2><p>æƒ³è¦å®ç°å®¹å™¨é—´ç½‘ç»œäº’è¿çš„æ–¹å¼</p>
<h3 id="ä½¿ç”¨-â€“link"><a href="#ä½¿ç”¨-â€“link" class="headerlink" title="ä½¿ç”¨**â€“link**"></a>ä½¿ç”¨**â€“link**</h3><p>å¤šä¸ªæœåŠ¡é—´ä½¿ç”¨æœåŠ¡åè¿›è¡ŒæœåŠ¡é—´çš„ç½‘ç»œè°ƒç”¨</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å…ˆå»ºç«‹ä¸€ä¸ªå®¹å™¨</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -P --name tomcat01 tomcat</span> </span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åœ¨å»ºç«‹ä¸€ä¸ªå®¹å™¨,ä½¿ç”¨ --<span class="built_in">link</span> æŒ‡å®šå¦ä¸€ä¸ªå·²å­˜åœ¨å®¹å™¨</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -P --name tomcat02 --<span class="built_in">link</span> tomcat01 tomcat</span> </span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç„¶åç¬¬äºŒä¸ªå®¹å™¨å°±å¯ä»¥ä½¿ç”¨å®¹å™¨åè®¿é—®ç¬¬ä¸€ä¸ªå®¹å™¨</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">exec</span> -it tomcat02 ping tomcat01</span></span><br></pre></td></tr></table></figure>

<p>å®é™…ä¸Šâ€“linkå‘½ä»¤å°±æ˜¯åœ¨å»ºç«‹æ–°å®¹å™¨<code>tomcat02</code>çš„æ—¶å€™,ä¿®æ”¹æ–°å®¹å™¨çš„ <code>/etc/hosts</code>æ–‡ä»¶,ç»™å®¹å™¨<code>tomcat01</code>çš„ipç»‘å®šä¸€ä¸ªåŸŸå,åŸŸåæ˜¯å®¹å™¨å</p>
<p>ç°åœ¨å·²ç»ä¸å»ºè®®ä½¿ç”¨â€“linkäº†~</p>
<h3 id="è‡ªå®šä¹‰ç½‘ç»œ"><a href="#è‡ªå®šä¹‰ç½‘ç»œ" class="headerlink" title="è‡ªå®šä¹‰ç½‘ç»œ"></a>è‡ªå®šä¹‰ç½‘ç»œ</h3><ul>
<li><p>ä½¿ç”¨<strong>docker network</strong>åˆ›å»ºç½‘ç»œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºä¸€ä¸ªè‡ªå®šä¹‰ç½‘ç»œ</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--driver bridge ç½‘ç»œç±»å‹,æ¡¥æ¥</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--subnet 10.0.0.0/24 å­ç½‘æ©ç     10.0.0.2~10.0.0.255</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--gateway 10.0.0.1   ç½‘å…³</span>    </span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker network create --driver bridge --subnet 10.0.0.0/24 --gateway 10.0.0.1 customnetwork</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><img data-src="https://up.sowevo.com/img/20201225204150.png" alt="image-20201225204150364"></p>
<ul>
<li><p>å»ºç«‹å®¹å™¨æ—¶æŒ‡å®šä½¿ç”¨è¿™ä¸ªè‡ªå®šä¹‰ç½‘ç»œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -P --name tomcat-net-01 --net customnetwork  tomcat</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -P --name tomcat-net-02 --net customnetwork  tomcat</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>ç°åœ¨ä¸¤ä¸ªå®¹å™¨ä¹‹é—´å¯ä»¥é€šè¿‡å®¹å™¨åäº’ç›¸è®¿é—®</p>
</li>
</ul>
<h3 id="ç½‘ç»œè”é€š"><a href="#ç½‘ç»œè”é€š" class="headerlink" title="ç½‘ç»œè”é€š"></a>ç½‘ç»œè”é€š</h3><p>å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå®¹å™¨é“¾æ¥ä¸¤ä¸ªä¸åŒçš„ç½‘ç»œ</p>
<p>ç›¸å½“äºç°åœ¨ç°å®ä¸­ä¸€å°ç”µè„‘ä¸¤æ ¹ç½‘çº¿è¿æ¥ä¸¤ä¸ªè·¯ç”±å™¨</p>
<p>åŒç½‘å¡!</p>
<ul>
<li><p>å°†ä¸€ä¸ªå®¹å™¨è¿æ¥åˆ°å…¶ä»–ç½‘ç»œ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker network connect ç½‘ç»œå å®¹å™¨å</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker network connect customnetwork tomcat-01</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker network connect customnetwork tomcat-02</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h2><p>è£…ä¸€ä¸ªredisé›†ç¾¤</p>
<p>åˆ†ç‰‡+é«˜å¯ç”¨+è´Ÿè½½å‡è¡¡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">flowchart TD</span><br><span class="line">    </span><br><span class="line">    Redis-ä¸»-01 &lt;--&gt;  Redis-ä»-01;</span><br><span class="line">    Redis-ä¸»-02 &lt;--&gt;  Redis-ä»-02;</span><br><span class="line">    Redis-ä¸»-03 &lt;--&gt;  Redis-ä»-03;</span><br></pre></td></tr></table></figure>

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">åˆ›å»ºç½‘å¡</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker network create --driver bridge --subnet 10.0.0.0/24 --gateway 10.0.0.1 redis-net</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ç”¨è„šæœ¬åˆ›å»ºé…ç½®æ–‡ä»¶</span></span><br><span class="line">for port in $(seq 1 6) ; \</span><br><span class="line">do \</span><br><span class="line">mkdir -p /mydata/redis/node-$&#123;port&#125;/conf</span><br><span class="line">touch /mydata/redis/node-$&#123;port&#125;/conf/redis.conf</span><br><span class="line">cat &gt;&gt; /mydata/redis/node-$&#123;port&#125;/conf/redis.conf&lt;&lt;EOF</span><br><span class="line">port 6379</span><br><span class="line">bind 0.0.0.0</span><br><span class="line">cluster-enabled yes</span><br><span class="line">cluster-config-file nodes.conf</span><br><span class="line">cluster-node-timeout 5000</span><br><span class="line">cluster-announce-ip 10.0.0.1$&#123;port&#125;</span><br><span class="line">cluster-announce-port 6379</span><br><span class="line">cluster-announce-bus-port 16379</span><br><span class="line">appendonly yes</span><br><span class="line">EOF</span><br><span class="line">done</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¯åŠ¨è„šæœ¬</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 6371:6379 -p 16371:16379 --name redis-1 -v /mydata/redis/node-1/data:/data -v /mydata/redis/node-1/conf/redis.conf:/etc/redis/conf -d --net redis-net --ip 10.0.0.11 redis redis-server /etc/redis/redis.conf</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 6372:6379 -p 16372:16379 --name redis-2 -v /mydata/redis/node-2/data:/data -v /mydata/redis/node-2/conf/redis.conf:/etc/redis/conf -d --net redis-net --ip 10.0.0.12 redis redis-server /etc/redis/redis.conf</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 6373:6379 -p 16373:16379 --name redis-3 -v /mydata/redis/node-3/data:/data -v /mydata/redis/node-3/conf/redis.conf:/etc/redis/conf -d --net redis-net --ip 10.0.0.13 redis redis-server /etc/redis/redis.conf</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 6374:6379 -p 16374:16379 --name redis-4 -v /mydata/redis/node-4/data:/data -v /mydata/redis/node-4/conf/redis.conf:/etc/redis/conf -d --net redis-net --ip 10.0.0.14 redis redis-server /etc/redis/redis.conf</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 6375:6379 -p 16375:16379 --name redis-5 -v /mydata/redis/node-5/data:/data -v /mydata/redis/node-5/conf/redis.conf:/etc/redis/conf -d --net redis-net --ip 10.0.0.15 redis redis-server /etc/redis/redis.conf</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker run -d -p 6376:6379 -p 16376:16379 --name redis-6 -v /mydata/redis/node-6/data:/data -v /mydata/redis/node-6/conf/redis.conf:/etc/redis/conf -d --net redis-net --ip 10.0.0.16 redis redis-server /etc/redis/redis.conf</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">é…ç½®é›†ç¾¤</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">docker <span class="built_in">exec</span> -it redis-1 redis-cli --cluster create 10.0.0.11:6379 10.0.0.12:6379 10.0.0.13:6379 10.0.0.14:6379 10.0.0.15:6379 10.0.0.16:6379 --cluster-replicas 1</span></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·åˆ›å»ºçš„å¤–ç½‘è®¿é—®æœ‰é—®é¢˜â€¦</p>
<h1 id="SpringBootå¾®æœåŠ¡æ‰“åŒ…Dockeré•œåƒ"><a href="#SpringBootå¾®æœåŠ¡æ‰“åŒ…Dockeré•œåƒ" class="headerlink" title="SpringBootå¾®æœåŠ¡æ‰“åŒ…Dockeré•œåƒ"></a>SpringBootå¾®æœåŠ¡æ‰“åŒ…Dockeré•œåƒ</h1><ol>
<li><p>æ„å»ºSpringBooté¡¹ç›®</p>
</li>
<li><p>æ‰“åŒ…åº”ç”¨</p>
</li>
<li><p>ç¼–å†™Dockerfile</p>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä»¥javaä¸ºåŸºç¡€</span></span><br><span class="line"><span class="keyword">FROM</span> java:<span class="number">8</span></span><br><span class="line"><span class="comment"># å¤åˆ¶æ‰“åŒ…å‡ºæ¥çš„jaræ–‡ä»¶,åå­—å«app.jar</span></span><br><span class="line"><span class="keyword">COPY</span><span class="language-bash"> target/*.jar /app.jar</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CMD</span><span class="language-bash"> [<span class="string">&quot;--server.port=8080&quot;</span>]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">EXPOSE</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">ENTRYPOINT</span><span class="language-bash"> [<span class="string">&quot;java&quot;</span>,<span class="string">&quot;-jar&quot;</span>,<span class="string">&quot;/app.jar&quot;</span>]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>æ„å»ºé•œåƒ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash"> docker build -t docker-test:0.0.1-SNAPSHOT .</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å‘å¸ƒè¿è¡Œ</p>
</li>
</ol>

    </div>

    
    
    
        

  <div class="followme">
    <p>æ¬¢è¿å…³æ³¨æˆ‘çš„å…¶å®ƒå‘å¸ƒæ¸ é“</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/atom.xml">
            <span class="icon">
              <i class="fa fa-rss"></i>
            </span>

            <span class="label">RSS</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Linux/" rel="tag"># Linux</a>
              <a href="/tags/Docker/" rel="tag"># Docker</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/hexo%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/" rel="prev" title="hexoå¸¸ç”¨æ“ä½œ">
      <i class="fa fa-chevron-left"></i> hexoå¸¸ç”¨æ“ä½œ
    </a></div>
      <div class="post-nav-item">
    <a href="/Docker%E8%BF%9B%E9%98%B6/" rel="next" title="Dockerè¿›é˜¶">
      Dockerè¿›é˜¶ <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">Dockeræ¦‚è¿°</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E5%87%BA%E7%8E%B0"><span class="nav-number">1.1.</span> <span class="nav-text">Dockerä¸ºä»€ä¹ˆä¼šå‡ºç°?</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E7%9A%84%E5%8E%86%E5%8F%B2"><span class="nav-number">1.2.</span> <span class="nav-text">Dockerçš„å†å²</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E8%83%BD%E5%B9%B2%E5%95%A5"><span class="nav-number">1.3.</span> <span class="nav-text">Dockerèƒ½å¹²å•¥!</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker-%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">2.</span> <span class="nav-text">Docker çš„å®‰è£…</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%84%E6%88%90"><span class="nav-number">2.1.</span> <span class="nav-text">Dockerçš„åŸºæœ¬ç»„æˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85"><span class="nav-number">2.2.</span> <span class="nav-text">å®‰è£…</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E5%8A%A0%E9%80%9F%E9%95%9C%E5%83%8F"><span class="nav-number">2.3.</span> <span class="nav-text">å®¹å™¨åŠ é€Ÿé•œåƒ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="nav-number">2.4.</span> <span class="nav-text">åº•å±‚åŸç†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Docker%E6%98%AF%E6%80%8E%E4%B9%88%E5%B7%A5%E4%BD%9C%E7%9A%84"><span class="nav-number">2.4.1.</span> <span class="nav-text">Dockeræ˜¯æ€ä¹ˆå·¥ä½œçš„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Docker%E4%B8%BA%E4%BB%80%E4%B9%88%E6%AF%94VM%E5%9D%97"><span class="nav-number">2.4.2.</span> <span class="nav-text">Dockerä¸ºä»€ä¹ˆæ¯”VMå—?</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker%E7%9A%84%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">3.</span> <span class="nav-text">Dockerçš„å¸¸ç”¨å‘½ä»¤</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%AE%E5%8A%A9%E5%91%BD%E4%BB%A4"><span class="nav-number">3.1.</span> <span class="nav-text">å¸®åŠ©å‘½ä»¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%95%9C%E5%83%8F%E5%91%BD%E4%BB%A4"><span class="nav-number">3.2.</span> <span class="nav-text">é•œåƒå‘½ä»¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">3.3.</span> <span class="nav-text">å®¹å™¨å‘½ä»¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%84%E5%90%88%E5%91%BD%E4%BB%A4-%E5%88%A0%E5%BA%93%E8%B7%91%E8%B7%AF"><span class="nav-number">3.4.</span> <span class="nav-text">ç»„åˆå‘½ä»¤(åˆ åº“è·‘è·¯)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"><span class="nav-number">3.5.</span> <span class="nav-text">å¸¸ç”¨å…¶ä»–å‘½ä»¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%8D%E5%B8%B8%E7%94%A8%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"><span class="nav-number">3.6.</span> <span class="nav-text">ä¸å¸¸ç”¨å…¶ä»–å‘½ä»¤</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A1%88%E4%BE%8B"><span class="nav-number">3.7.</span> <span class="nav-text">æ¡ˆä¾‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#nginx"><span class="nav-number">3.7.1.</span> <span class="nav-text">nginx</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#tomcat"><span class="nav-number">3.7.2.</span> <span class="nav-text">tomcat</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#elasticsearch"><span class="nav-number">3.7.3.</span> <span class="nav-text">elasticsearch</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">3.8.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%8F%AF%E8%A7%86%E5%8C%96"><span class="nav-number">4.</span> <span class="nav-text">å¯è§†åŒ–</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Prtainer"><span class="nav-number">4.1.</span> <span class="nav-text">Prtainer</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Rancher"><span class="nav-number">4.2.</span> <span class="nav-text">Rancher</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker%E9%95%9C%E5%83%8F"><span class="nav-number">5.</span> <span class="nav-text">Dockeré•œåƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%95%9C%E5%83%8F%E6%98%AF%E4%BB%80%E4%B9%88"><span class="nav-number">5.1.</span> <span class="nav-text">é•œåƒæ˜¯ä»€ä¹ˆ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86"><span class="nav-number">5.2.</span> <span class="nav-text">Dockeré•œåƒåŠ è½½åŸç†</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#UnionFS%E8%81%94%E5%90%88%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="nav-number">5.2.1.</span> <span class="nav-text">UnionFSè”åˆæ–‡ä»¶ç³»ç»Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Docker%E9%95%9C%E5%83%8F%E5%8A%A0%E8%BD%BD%E5%8E%9F%E7%90%86-1"><span class="nav-number">5.2.2.</span> <span class="nav-text">Dockeré•œåƒåŠ è½½åŸç†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E5%B1%82"><span class="nav-number">5.2.3.</span> <span class="nav-text">åˆ†å±‚</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#commit%E6%8F%90%E4%BA%A4%E9%95%9C%E5%83%8F"><span class="nav-number">5.2.4.</span> <span class="nav-text">commitæäº¤é•œåƒ</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="nav-number">6.</span> <span class="nav-text">å®¹å™¨æ•°æ®å·</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%AE%B9%E5%99%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="nav-number">6.1.</span> <span class="nav-text">ä»€ä¹ˆæ˜¯å®¹å™¨æ•°æ®å·</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%8D%B7"><span class="nav-number">6.2.</span> <span class="nav-text">ä½¿ç”¨æ•°æ®å·</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E6%8C%82%E8%BD%BD"><span class="nav-number">6.2.1.</span> <span class="nav-text">å‘½ä»¤æŒ‚è½½</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DockerFile%E6%8C%82%E8%BD%BD"><span class="nav-number">6.2.2.</span> <span class="nav-text">DockerFileæŒ‚è½½</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E5%8D%B7%E5%AE%B9%E5%99%A8-%E2%80%93volumes-from"><span class="nav-number">6.2.3.</span> <span class="nav-text">æ•°æ®å·å®¹å™¨:â€“volumes-from</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#DockerFile"><span class="nav-number">7.</span> <span class="nav-text">DockerFile</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Dockerfile%E4%BB%8B%E7%BB%8D"><span class="nav-number">7.1.</span> <span class="nav-text">Dockerfileä»‹ç»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Dockerfile%E6%9E%84%E5%BB%BA%E8%BF%87%E7%A8%8B"><span class="nav-number">7.2.</span> <span class="nav-text">Dockerfileæ„å»ºè¿‡ç¨‹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%AD%A5%E9%AA%A4"><span class="nav-number">7.2.1.</span> <span class="nav-text">æ­¥éª¤</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#DockerFile%E7%9A%84%E6%8C%87%E4%BB%A4"><span class="nav-number">7.2.2.</span> <span class="nav-text">DockerFileçš„æŒ‡ä»¤</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%88%98%E6%B5%8B%E8%AF%95"><span class="nav-number">7.3.</span> <span class="nav-text">å®æˆ˜æµ‹è¯•</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%91%E5%B8%83%E9%95%9C%E5%83%8F"><span class="nav-number">7.4.</span> <span class="nav-text">å‘å¸ƒé•œåƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#DockerHub"><span class="nav-number">7.4.1.</span> <span class="nav-text">DockerHub</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%85%BE%E8%AE%AF%E4%BA%91%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93"><span class="nav-number">7.4.2.</span> <span class="nav-text">è…¾è®¯äº‘é•œåƒä»“åº“</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E9%95%9C%E5%83%8F%E4%BB%93%E5%BA%93"><span class="nav-number">7.4.3.</span> <span class="nav-text">å…¶ä»–é•œåƒä»“åº“</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%80%BB%E7%BB%93-1"><span class="nav-number">7.5.</span> <span class="nav-text">æ€»ç»“</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Docker%E7%BD%91%E7%BB%9C"><span class="nav-number">8.</span> <span class="nav-text">Dockerç½‘ç»œ</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Docker%E7%9A%84%E5%87%A0%E7%A7%8D%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F"><span class="nav-number">8.1.</span> <span class="nav-text">Dockerçš„å‡ ç§ç½‘ç»œæ¨¡å¼</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%B9%E5%99%A8%E4%BA%92%E8%BF%9E"><span class="nav-number">8.2.</span> <span class="nav-text">å®¹å™¨äº’è¿</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-%E2%80%93link"><span class="nav-number">8.2.1.</span> <span class="nav-text">ä½¿ç”¨**â€“link**</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BD%91%E7%BB%9C"><span class="nav-number">8.2.2.</span> <span class="nav-text">è‡ªå®šä¹‰ç½‘ç»œ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%BD%91%E7%BB%9C%E8%81%94%E9%80%9A"><span class="nav-number">8.2.3.</span> <span class="nav-text">ç½‘ç»œè”é€š</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9E%E6%88%98"><span class="nav-number">8.3.</span> <span class="nav-text">å®æˆ˜</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SpringBoot%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%89%93%E5%8C%85Docker%E9%95%9C%E5%83%8F"><span class="nav-number">9.</span> <span class="nav-text">SpringBootå¾®æœåŠ¡æ‰“åŒ…Dockeré•œåƒ</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Sowevo"
      src="https://up.sowevo.com/avatar.jpeg">
  <p class="site-author-name" itemprop="name">Sowevo</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">28</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/Sowevo" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;Sowevo" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        
  <div class="beian"><a href="https://beian.miit.gov.cn/" rel="noopener" target="_blank">ä¸ç”¨å¤‡æ¡ˆäº† </a>
  </div>

<div class="copyright">
  
  &copy; 2017 â€“ 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Sowevo</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.1.0/lib/anime.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/lozad@1/dist/lozad.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/pangu@4/dist/browser/pangu.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/velocity-animate@1/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
